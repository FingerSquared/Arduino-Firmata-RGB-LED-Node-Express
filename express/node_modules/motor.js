/**
 * Sample script to blink LED 13
 */


console.log('blink start ...');

var motorPin = 9;

var firmata = require('firmata');
var board = new firmata.Board('/dev/tty.usbmodem411', function(err) {
    if (err) {
    	console.log(err);
    	return;
    }
    console.log('connected');

 //    console.log('Firmware: ' + board.firmware.name + '-' + board.firmware.version.major + '.' + board.firmware.version.minor);

 //    var ledOn = true;
 //    board.pinMode(motorPin, board.MODES.OUTPUT);

 //    setInterval(function(){

	// if (ledOn) {
	//     console.log('+');
	//     board.digitalWrite(motorPin, board.HIGH);
	// }
	// else {
	//     console.log('-');
	//     board.digitalWrite(motorPin, board.LOW);
	// }

	// ledOn = !ledOn;

 //    },500)

});

exports.turnOn = function(req, res){
    board.digitalWrite(motorPin, board.HIGH);
    res.json(200, {message: 'success'});
}

exports.turnOff = function(req, res){
    board.digitalWrite(motorPin, board.LOW);
    res.json(200, {message: 'success'});
}